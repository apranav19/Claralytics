{% extends "base_template.html" %} 
{% block content %}
<script type="text/javascript" src ="{{ url_for('static', filename='bargraph.js') }}"></script>
<script type="text/javascript" src ="{{ url_for('static', filename='linegraph.js') }}"></script>
 <script type="text/javascript">     
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);

      function drawChart() {

      	var device_items = []

      	var device_data = $('#load_device_data').data('device');

      	$.each(device_data, function(key, value){
      		device_items.push([key, value]);
      	});
        
        var options = {
	 		is3D: true,
	        colors: ['#E5D843','#80BF34','#38A660'],
	        title: 'Visitors by Device Type',
	        'legend': 'right',
	        animation:{
       			duration: 8000,
        		easing: 'in'
      		},
	        pieSliceText: 'percentage',
	 	  	slices: {
	                  1: {offset: 0.2},
	                  2: {offset: 0.1},
	                  3: {offset: 0.0},
	                  pieSliceTextStyle:{fontSize:'20'},
	                  'pieStartAngle':'160'
	        },
	    };

      	var pie_data = new google.visualization.DataTable();
      	pie_data.addColumn('string', 'Device Type');
      	pie_data.addColumn('number', 'Number of Visitors');
      	pie_data.addRows(device_items);

      	var row = 0;
      	var col = 0;

      	var chart = new google.visualization.PieChart(document.getElementById('pie'));
    	chart.draw(pie_data, options);

      }
 </script>
<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<h1 class="text-center text-primary" style = "font-family:Gauntlet">
				Clara-Lytics
			</h1>
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-6 column">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">
						<span class="glyphicon glyphicon-stats"></span>  Number of Hits
					</h3>
				</div>
				<div class="tabbable" id="tabs-263782">
				<ul class="nav nav-tabs">
					<li class="active actTab">
						<a href="#panel-465099" data-toggle="tab">Weekly</a>
					</li>
					<li>
						<a href="#panel-304865" data-toggle="tab">Monthly</a>
					</li>
				</ul>
				<div class="tab-content graphs">
					<div class="tab-pane active" id="panel-465099" style="width: 500px; height: 200px;">
						<p>
							hits for a week
						</p>
					</div>
					<div class="tab-pane" id="panel-304865" style="width: 500px; height: 200px;">
						<p>
							hits for a month
						</p>
					</div>
				</div>
			</div>
			<div class="row clearfix">
				<div class="col-md-4 column">
				</div>
				<div class="col-md-4 column">
					 <button type="button" class="btn btn-sm ">
					 	<span class="glyphicon glyphicon-chevron-left"></span>Prev</button>
				</div>
				
				<div class="col-md-4 column">
					 <button type="button" class="btn btn-sm nextbtn">Next<span class="glyphicon glyphicon-chevron-right"></span></button>
				</div>
			</div>  
			</div>
		</div>
		<div class="col-md-6 column">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">
						<span class="glyphicon glyphicon-eye-open"></span> Most Popular Articles and Categories
					</h3>
				</div>
				<div class="col-md-12 column">
			<table class="table table-hover table-striped">
				<thead>
					<tr>
						<th>
							#
						</th>
						<th>
							Article
						</th>
						<th>
							Category
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							1
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							01/04/2012
						</td>
						
					</tr>
					<tr class="active">
						<td>
							1
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							01/04/2012
						</td>
						
					</tr>
					<tr class="success">
						<td>
							2
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							02/04/2012
						</td>
						
					</tr>
					<tr class="warning">
						<td>
							3
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							03/04/2012
						</td>
						
					</tr>
					<tr class="danger">
						<td>
							4
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							04/04/2012
						</td>
						
					</tr>
				</tbody>
			</table>
		</div>				
		</div>
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-8 column">
			<div class="panel panel-info">
				<div class="panel-heading">
					<h3 class="panel-title">
						<span class="glyphicon glyphicon-google-maps"></span>Geographic User Base
					</h3>
				</div>
				<div class="panel-body">
					Panel content
				</div>
				<div class="panel-footer">
					Panel footer
				</div>
			</div>
		</div>
		<div class="col-md-4 column">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title">
						<span class="glyphicon glyphicon-pie-chart"></span> Device Type
					</h3>
				</div>
				<div id="load_device_data" data-device="{{controller.fetch_device_type()}}" style="display:none"></div>	
				<div class="row clearfix">
					<div class="col-md-12">
						<div id = "pie">	
						</div>
					</div>
				</div>
				
			</div>
		</div>
	</div>
	<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 lastRow">
			<div class="row">
				<div class="col-md-4">
					<div class="thumbnail">
						<img alt="300x200" src="{{ url_for('static', filename='FB-f-Logo__blue_72.png') }}" />
						<div class="caption">
							<h3 class="text-center text-primary">
								60
							</h3>
							
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="thumbnail">
						<img alt="300x200" class="img-rounded" src="{{ url_for('static', filename='Twitter_logo_blue.png') }}" />
						<div class="caption">
							<h3 class="text-center text-primary">
								25
							</h3>					
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="thumbnail">
						<img alt="300x200" src="{{ url_for('static', filename='gplus-128[1].png') }}" />
						<div class="caption">
							<h3 class="text-center text-primary">
								30
							</h3>
						
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
	</div>
</div>
{% endblock %}
